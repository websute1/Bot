import logging
import random
from telegram import Update
from telegram.ext import ApplicationBuilder, CommandHandler, ContextTypes

# Enable logging
logging.basicConfig(
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    level=logging.INFO
)

# Dictionary to store user-specific "gayness" levels (replace with a database in a real application)
user_gayness = {}


async def me_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(":- ğ™’ğ˜¼ğ™ğ™ğ™ğ™‹!\n:- ğ™”ğ™¤ğ™ª ğ™–ğ™§ğ™š ğ™£ğ™¤ğ™© ğ™–ğ™ªğ™©ğ™ğ™¤ğ™§ğ™ğ™¨ğ™šğ™™ ğ™£ğ™ğ™œğ™œğ™§ğ™§ ğŸ’¦\n:- ğ™”ğ™¤ğ™ªğ™§ ğ™§ğ™¤ğ™¡ğ™š ğ™ğ™¨ ğ™œğ™–ğ™® ğŸ¤¡\n:- ğ™‚ğ™¤ ğ™©ğ™¤ ğ™™ğ™šğ™«ğ™šğ™¡ğ™¤ğ™¥ğ™šğ™§ ğ™©ğ™¤ ğ™ªğ™¨ğ™š ğ™ğ™© @whytorrentğŸ”¥")


async def gay_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_id = update.effective_user.id
    gayness_level = user_gayness.get(user_id, random.randint(1, 100)) #Get from dict or generate random
    await update.message.reply_text(f"ğ™”ğ™¤ğ™ª ğ™–ğ™§ğ™š {ğ™œğ™–ğ™®ğ™£ğ™šğ™¨ğ™¨_ğ™¡ğ™šğ™«ğ™šğ™¡}% ğ™œğ™–ğ™®.ğŸ³ï¸â€ğŸŒˆ")


async def set_gayness_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Sets a specific gayness level for a user (admin only)."""
    if update.effective_user.id == 6098211609: # Replace with your admin ID
      try:
        args = context.args
        if len(args) != 2:
          await update.message.reply_text("Usage: /setgayness <user_id> <gayness_level>")
          return
        user_id = int(args[0])
        gayness_level = int(args[1])
        user_gayness[user_id] = gayness_level
        await update.message.reply_text(f"ğ™‚ğ™–ğ™®ğ™£ğ™šğ™¨ğ™¨ ğ™¡ğ™šğ™«ğ™šğ™¡ ğ™›ğ™¤ğ™§ ğ™ªğ™¨ğ™šğ™§ {user_id} ğ™¨ğ™šğ™© ğ™©ğ™¤ {gayness_level}%")
      except ValueError:
        await update.message.reply_text("Invalid input. User ID and gayness level must be integers.")
    else:
      await update.message.reply_text("You are not authorized to use this command.")

if __name__ == '__main__':
    application = ApplicationBuilder().token("7582823444:AAEF7RRSeIQ6lhsyGQvITrb2Zt8ohGe-zkc").build()

    application.add_handler(CommandHandler("me", me_command))
    application.add_handler(CommandHandler("gay", gay_command))
    application.add_handler(CommandHandler("setgayness", set_gayness_command)) # Admin command

    application.run_polling()
    
